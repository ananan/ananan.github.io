{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to MkDocs For full documentation visit mkdocs.org . Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs help - Print this help message. Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Welcome to MkDocs"},{"location":"#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org .","title":"Welcome to MkDocs"},{"location":"#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs help - Print this help message.","title":"Commands"},{"location":"#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"Nginx\u4e3b\u8981\u5e94\u7528\u573a\u666f\u53ca\u5176\u914d\u7f6e/","text":"\u4e00\u3001\u7b80\u4ecb \u200b nginx\u662f\u4e00\u4e2a\u5355\u7ebf\u7a0b\u6a21\u578b\u7684\u9ad8\u6027\u80fdweb\u670d\u52a1\u5668, \u76f8\u6bd4apache\u7684\u591a\u7ebf\u7a0b\u6a21\u578b(\u5373\u5904\u7406\u4e00\u4e2a\u8bf7\u6c42\u5c31\u8981\u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b), nginx\u5728linux\u91cc\u4f7f\u7528epoll\u4e8b\u4ef6\u6a21\u578b\u53ef\u4ee5\u83b7\u5f97\u5f88\u597d\u7684\u5e76\u53d1\u6027\u80fd, \u800c\u4e14\u5360\u7528\u8d44\u6e90\u5c11, \u8f7b\u91cf\u7ea7, \u4e0d\u7528\u5b83\u90fd\u4e0d\u597d\u610f\u601d\u8bf4\u662f\u505aweb\u7684. \u4e8c\u3001Nginx\u5e94\u7528\u573a\u666f 1. \u9759\u6001\u670d\u52a1\u5668 \u9759\u6001\u8d44\u6e90\u670d\u52a1\u5668\u662f\u4e00\u4e2aweb\u670d\u52a1\u5668\u7684\u672c\u804c\u5de5\u4f5c, nginx\u505a\u5f97\u975e\u5e38\u597d, \u5176\u914d\u7f6e\u5982\u4e0b: server { listen 80; #\u8bbe\u7f6e\u76d1\u542c\u7aef\u53e3 server_name localhost; #\u8bbe\u7f6e\u4e3b\u673a\u540d client_max_body_size 1024M; #\u8bbe\u7f6e\u8bf7\u6c42body\u6700\u5927\u4e3a1GB location / { root /var/www/html; index index.html; } } 2. \u52a8\u9759\u5206\u79bb \u73b0\u5728\u540e\u53f0\u67b6\u6784\u4e3b\u6d41\u90fd\u662f\u8fd9\u6837\u4e86, \u9759\u6001\u8d44\u6e90\u5982html\u6587\u4ef6\u7b49\u76f4\u63a5nginx\u5904\u7406, \u52a8\u6001\u8bf7\u6c42\u7684\u901a\u8fc7tomcat\u3001wsgi\u7b49\u52a8\u6001\u670d\u52a1\u5904\u7406, \u5176tomcat\u7684\u914d\u7f6e\u5982\u4e0b: upstream test{ server localhost:8080; server localhost:8081; } server{ listen 80; server_name localhost; # \u8bbe\u7f6e\u6839\u76ee\u5f55index location / { root /var/www/html; index index.html; } # \u6b63\u5219\u5339\u914d\u6240\u6709\u7684\u9759\u6001\u8d44\u6e90 location ~ .(gif|jpg|jpeg|png|bmp|swf|css|js)${ root /var/www/html } # \u6b63\u5219\u5339\u914d\u6240\u6709jsp\u548cdo\u6587\u4ef6\u5e76\u4f20\u7ed9\u540e\u6bb5tomcat\u670d\u52a1\u5668\u5904\u7406 location ~ .(jsp|do)$ { proxy_pass http://test; # \u53cd\u5411\u4ee3\u7406 } } 3. \u53cd\u5411\u4ee3\u7406 \u53cd\u5411\u4ee3\u7406\u662fnginx\u6700\u62ff\u624b\u7684\u5e94\u7528\u573a\u666f\u4e86, \u53ef\u4ee5\u6709\u6548\u5c06\u540e\u7aef\u670d\u52a1\u5668\u4e0e\u7528\u6237\u9694\u79bb\u5f00, \u53ea\u9700\u8981\u66b4\u9732nginx\u768480\u7aef\u53e3\u7aef\u53e3, \u540c\u65f6\u4e5f\u53ef\u4ee5\u505a\u8d1f\u8f7d\u5747\u8861. \u5176\u914d\u7f6e\u5982\u4e0b: server { listen 80; server_name localhost; #\u591a\u4e2a\u4e3b\u673a\u540d\u53ef\u4ee5\u7528\u7a7a\u683c\u5206\u5f00 location / { # \u2018/\u2019\u662f\u4ee3\u7406\u6240\u6709\u7684\u610f\u601d, \u53ef\u4ee5\u7528\u6b63\u5219\u6765\u5339\u914d proxy_pass http://127.0.0.1:5000; # flask\u670d\u52a1 proxy_set_header Host $host:$server_port; } } 4. \u8d1f\u8f7d\u5747\u8861 load balance\u662f\u5e38\u89c1\u7684\u4e1a\u52a1\u9700\u6c42, \u5f53\u5e94\u5bf9\u5927\u91cf\u7528\u6237\u8bf7\u6c42\u7684\u65f6\u5019, \u8d1f\u8f7d\u5747\u8861\u53ef\u4ee5\u505a\u5230\u5206\u673a\u6a2a\u5411\u6269\u5c55, \u8fd8\u6709keepalive\u673a\u5236, \u662f\u4f01\u4e1a\u9ad8\u53ef\u7528\u7684\u5e38\u89c1\u624b\u6cd5, \u5f53\u7136\u8fd9\u662f\u5e94\u7528\u5c42\u7684\u8d1f\u8f7d\u5747\u8861, \u8fd8\u6709F5\u786c\u4ef6\u8d1f\u8f7d\u5747\u8861(\u4ee5\u524dluxottica\u5c31\u7528\u8fd9\u4e2a, \u8d22\u5927\u6c14\u7c97), F5\u53ef\u4ee5\u505a\u5230\u4f20\u8f93\u5c42\u548c\u94fe\u8def\u5c42\u7ea7\u522b\u7684\u8d1f\u8f7d\u5747\u8861, \u901f\u5ea6\u66f4\u5feb\u6027\u80fd\u66f4\u597d\u4f46\u662f\u66f4\u8d35. \u8d1f\u8f7d\u5747\u8861\u7b97\u6cd5\u4e3b\u8981\u6709: Round-Robin(\u8f6e\u8bad\u7b97\u6cd5, nginx\u9ed8\u8ba4\u5c31\u662f\u8fd9\u4e2a) ip_hash (\u5bf9\u4e8eclient\u9700\u8981\u548c\u540e\u53f0\u670d\u52a1\u4fdd\u6301session, \u540c\u4e00\u4e2aip\u8f6c\u53d1\u5230\u540c\u4e00\u4e2a\u670d\u52a1\u5668) weight (\u6743\u91cd, \u63a7\u5236\u540e\u7aef\u670d\u52a1\u5668\u4ecenginx\u63a5\u53d7\u5230\u8bf7\u6c42\u7684\u6743\u91cd, \u9002\u7528\u4e0e\u540e\u7aef\u670d\u52a1\u5668\u6027\u80fd\u4e0d\u5747\u5300\u7684\u60c5\u51b5, \u6027\u80fd\u597d\u7684\u6743\u91cd\u5927\u4e00\u70b9) nginx\u8d1f\u8f7d\u5747\u8861\u914d\u7f6e\u5982\u4e0b: upstream test { # \u9ed8\u8ba4\u662fRound-Robin\u7b97\u6cd5, \u5c31\u662f\u8f6e\u8bad ip_hash; # \u6307\u5b9a\u4f7f\u7528ip_hash\u7b97\u6cd5,\u4fdd\u6301session server localhost:8080; (weight=6) # \u53ef\u4ee5\u52a0\u6743\u91cd server localhost:8081; (weight=4) } server { listen 81; server_name localhost; client_max_body_size 1024M; location / { proxy_pass http://test; proxy_set_header Host $host:$server_port; } } \u4e09\u3001Reload nginx -s reload (\u652f\u6301\u70ed\u542f\u52a8\u4f7f\u914d\u7f6e\u751f\u6548)","title":"Nginx\u4e3b\u8981\u5e94\u7528\u573a\u666f\u53ca\u5176\u914d\u7f6e"},{"location":"Nginx\u4e3b\u8981\u5e94\u7528\u573a\u666f\u53ca\u5176\u914d\u7f6e/#_1","text":"\u200b nginx\u662f\u4e00\u4e2a\u5355\u7ebf\u7a0b\u6a21\u578b\u7684\u9ad8\u6027\u80fdweb\u670d\u52a1\u5668, \u76f8\u6bd4apache\u7684\u591a\u7ebf\u7a0b\u6a21\u578b(\u5373\u5904\u7406\u4e00\u4e2a\u8bf7\u6c42\u5c31\u8981\u521b\u5efa\u4e00\u4e2a\u7ebf\u7a0b), nginx\u5728linux\u91cc\u4f7f\u7528epoll\u4e8b\u4ef6\u6a21\u578b\u53ef\u4ee5\u83b7\u5f97\u5f88\u597d\u7684\u5e76\u53d1\u6027\u80fd, \u800c\u4e14\u5360\u7528\u8d44\u6e90\u5c11, \u8f7b\u91cf\u7ea7, \u4e0d\u7528\u5b83\u90fd\u4e0d\u597d\u610f\u601d\u8bf4\u662f\u505aweb\u7684.","title":"\u4e00\u3001\u7b80\u4ecb"},{"location":"Nginx\u4e3b\u8981\u5e94\u7528\u573a\u666f\u53ca\u5176\u914d\u7f6e/#nginx","text":"","title":"\u4e8c\u3001Nginx\u5e94\u7528\u573a\u666f"},{"location":"Nginx\u4e3b\u8981\u5e94\u7528\u573a\u666f\u53ca\u5176\u914d\u7f6e/#1","text":"\u9759\u6001\u8d44\u6e90\u670d\u52a1\u5668\u662f\u4e00\u4e2aweb\u670d\u52a1\u5668\u7684\u672c\u804c\u5de5\u4f5c, nginx\u505a\u5f97\u975e\u5e38\u597d, \u5176\u914d\u7f6e\u5982\u4e0b: server { listen 80; #\u8bbe\u7f6e\u76d1\u542c\u7aef\u53e3 server_name localhost; #\u8bbe\u7f6e\u4e3b\u673a\u540d client_max_body_size 1024M; #\u8bbe\u7f6e\u8bf7\u6c42body\u6700\u5927\u4e3a1GB location / { root /var/www/html; index index.html; } }","title":"1. \u9759\u6001\u670d\u52a1\u5668"},{"location":"Nginx\u4e3b\u8981\u5e94\u7528\u573a\u666f\u53ca\u5176\u914d\u7f6e/#2","text":"\u73b0\u5728\u540e\u53f0\u67b6\u6784\u4e3b\u6d41\u90fd\u662f\u8fd9\u6837\u4e86, \u9759\u6001\u8d44\u6e90\u5982html\u6587\u4ef6\u7b49\u76f4\u63a5nginx\u5904\u7406, \u52a8\u6001\u8bf7\u6c42\u7684\u901a\u8fc7tomcat\u3001wsgi\u7b49\u52a8\u6001\u670d\u52a1\u5904\u7406, \u5176tomcat\u7684\u914d\u7f6e\u5982\u4e0b: upstream test{ server localhost:8080; server localhost:8081; } server{ listen 80; server_name localhost; # \u8bbe\u7f6e\u6839\u76ee\u5f55index location / { root /var/www/html; index index.html; } # \u6b63\u5219\u5339\u914d\u6240\u6709\u7684\u9759\u6001\u8d44\u6e90 location ~ .(gif|jpg|jpeg|png|bmp|swf|css|js)${ root /var/www/html } # \u6b63\u5219\u5339\u914d\u6240\u6709jsp\u548cdo\u6587\u4ef6\u5e76\u4f20\u7ed9\u540e\u6bb5tomcat\u670d\u52a1\u5668\u5904\u7406 location ~ .(jsp|do)$ { proxy_pass http://test; # \u53cd\u5411\u4ee3\u7406 } }","title":"2. \u52a8\u9759\u5206\u79bb"},{"location":"Nginx\u4e3b\u8981\u5e94\u7528\u573a\u666f\u53ca\u5176\u914d\u7f6e/#3","text":"\u53cd\u5411\u4ee3\u7406\u662fnginx\u6700\u62ff\u624b\u7684\u5e94\u7528\u573a\u666f\u4e86, \u53ef\u4ee5\u6709\u6548\u5c06\u540e\u7aef\u670d\u52a1\u5668\u4e0e\u7528\u6237\u9694\u79bb\u5f00, \u53ea\u9700\u8981\u66b4\u9732nginx\u768480\u7aef\u53e3\u7aef\u53e3, \u540c\u65f6\u4e5f\u53ef\u4ee5\u505a\u8d1f\u8f7d\u5747\u8861. \u5176\u914d\u7f6e\u5982\u4e0b: server { listen 80; server_name localhost; #\u591a\u4e2a\u4e3b\u673a\u540d\u53ef\u4ee5\u7528\u7a7a\u683c\u5206\u5f00 location / { # \u2018/\u2019\u662f\u4ee3\u7406\u6240\u6709\u7684\u610f\u601d, \u53ef\u4ee5\u7528\u6b63\u5219\u6765\u5339\u914d proxy_pass http://127.0.0.1:5000; # flask\u670d\u52a1 proxy_set_header Host $host:$server_port; } }","title":"3. \u53cd\u5411\u4ee3\u7406"},{"location":"Nginx\u4e3b\u8981\u5e94\u7528\u573a\u666f\u53ca\u5176\u914d\u7f6e/#4","text":"load balance\u662f\u5e38\u89c1\u7684\u4e1a\u52a1\u9700\u6c42, \u5f53\u5e94\u5bf9\u5927\u91cf\u7528\u6237\u8bf7\u6c42\u7684\u65f6\u5019, \u8d1f\u8f7d\u5747\u8861\u53ef\u4ee5\u505a\u5230\u5206\u673a\u6a2a\u5411\u6269\u5c55, \u8fd8\u6709keepalive\u673a\u5236, \u662f\u4f01\u4e1a\u9ad8\u53ef\u7528\u7684\u5e38\u89c1\u624b\u6cd5, \u5f53\u7136\u8fd9\u662f\u5e94\u7528\u5c42\u7684\u8d1f\u8f7d\u5747\u8861, \u8fd8\u6709F5\u786c\u4ef6\u8d1f\u8f7d\u5747\u8861(\u4ee5\u524dluxottica\u5c31\u7528\u8fd9\u4e2a, \u8d22\u5927\u6c14\u7c97), F5\u53ef\u4ee5\u505a\u5230\u4f20\u8f93\u5c42\u548c\u94fe\u8def\u5c42\u7ea7\u522b\u7684\u8d1f\u8f7d\u5747\u8861, \u901f\u5ea6\u66f4\u5feb\u6027\u80fd\u66f4\u597d\u4f46\u662f\u66f4\u8d35. \u8d1f\u8f7d\u5747\u8861\u7b97\u6cd5\u4e3b\u8981\u6709: Round-Robin(\u8f6e\u8bad\u7b97\u6cd5, nginx\u9ed8\u8ba4\u5c31\u662f\u8fd9\u4e2a) ip_hash (\u5bf9\u4e8eclient\u9700\u8981\u548c\u540e\u53f0\u670d\u52a1\u4fdd\u6301session, \u540c\u4e00\u4e2aip\u8f6c\u53d1\u5230\u540c\u4e00\u4e2a\u670d\u52a1\u5668) weight (\u6743\u91cd, \u63a7\u5236\u540e\u7aef\u670d\u52a1\u5668\u4ecenginx\u63a5\u53d7\u5230\u8bf7\u6c42\u7684\u6743\u91cd, \u9002\u7528\u4e0e\u540e\u7aef\u670d\u52a1\u5668\u6027\u80fd\u4e0d\u5747\u5300\u7684\u60c5\u51b5, \u6027\u80fd\u597d\u7684\u6743\u91cd\u5927\u4e00\u70b9) nginx\u8d1f\u8f7d\u5747\u8861\u914d\u7f6e\u5982\u4e0b: upstream test { # \u9ed8\u8ba4\u662fRound-Robin\u7b97\u6cd5, \u5c31\u662f\u8f6e\u8bad ip_hash; # \u6307\u5b9a\u4f7f\u7528ip_hash\u7b97\u6cd5,\u4fdd\u6301session server localhost:8080; (weight=6) # \u53ef\u4ee5\u52a0\u6743\u91cd server localhost:8081; (weight=4) } server { listen 81; server_name localhost; client_max_body_size 1024M; location / { proxy_pass http://test; proxy_set_header Host $host:$server_port; } }","title":"4. \u8d1f\u8f7d\u5747\u8861"},{"location":"Nginx\u4e3b\u8981\u5e94\u7528\u573a\u666f\u53ca\u5176\u914d\u7f6e/#reload","text":"nginx -s reload (\u652f\u6301\u70ed\u542f\u52a8\u4f7f\u914d\u7f6e\u751f\u6548)","title":"\u4e09\u3001Reload"}]}